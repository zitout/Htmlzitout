<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>رقم عشوائي موحد</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            font-size: 10vw;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="randomNumber">...جاري التحميل</div>
    <script>
        (function() {
            let serverTime;

            function getServerTime() {
                return fetch('https://worldtimeapi.org/api/ip')
                    .then(response => response.json())
                    .then(data => {
                        return new Date(data.unixtime * 1000);
                    });
            }

            function generateNumber(seed) {
                var x = Math.sin(seed) * 10000;
                return Math.floor((x - Math.floor(x)) * 90000) + 10000;
            }

            function updateNumber() {
                if (!serverTime) return;
                
                var now = Math.floor((new Date() - serverTime) / 300000);
                var number = generateNumber(now).toString().padStart(5, '0');
                document.getElementById("randomNumber").textContent = number;
            }

            getServerTime().then(time => {
                serverTime = time;
                updateNumber();
                setInterval(updateNumber, 1000);
            });
        })();
    </script>
</body>
</html>
